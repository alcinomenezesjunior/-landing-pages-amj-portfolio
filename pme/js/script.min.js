function getDeviceType(){let e=navigator.userAgent;return/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(e)?"mobile":"desktop"}function adjustContentForFixedHeader(){let e=document.querySelector(".header"),t=document.querySelector("section.hero");if(e&&t){let r=e.offsetHeight;t.style.paddingTop=`${r+20}px`}}function debounce(e,t){let r;return function o(...n){let a=()=>{clearTimeout(r),e(...n)};clearTimeout(r),r=setTimeout(a,t)}}function initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href"),r=document.querySelector(t);if(r){let o=document.querySelector(".header"),n=o?o.offsetHeight:60,a=r.offsetTop-n-20;window.scrollTo({top:a,behavior:"smooth"})}})})}function initHeaderScroll(){let e=document.querySelector(".header");e&&window.addEventListener("scroll",()=>{window.scrollY>100?(e.style.background="rgba(255,255,255,0.98)",e.style.boxShadow="0 4px 20px rgba(0,0,0,0.1)"):(e.style.background="rgba(255,255,255,0.95)",e.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)")})}function initScrollAnimations(){let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.trans for m="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px-50px 0px"});document.querySelectorAll(".challenge-card,.solution-card,.cert if icate-item,.process-step").forEach(t=>{t.style.opacity="0",t.style.trans for m="translateY(30px)",t.style.transition="opacity 0.6s ease-out,trans for m 0.6s ease-out",e.observe(t)})}function initPhoneFlag(){let e=document.getElementById("whatsapp_ddi"),t=document.getElementById("phone-flag");if(!e||!t)return;let r=()=>{try{let r=e.options[e.selectedIndex],o=r.getAttribute("data-country");o?t.style.backgroundImage=`url('https: position: fixed;top: 20px;right: 20px;z-index: 9999;background: ${t?"var(--danger-color)":"var(--success-color)"};color: white;padding: 1rem;border-radius: 8px;box-shadow: 0 10px 25px rgba(0,0,0,0.2);display: flex;align-items: center;gap: 1rem;`;let n=`<i class="${t?"ri-close-circle-line":"ri-check-circle-line"}"></i><div>${e}</div>`,a=document.createElement("button");a.innerHTML="&times;",a.style.cssText="background:none;border:none;color:white;font-size:1.5rem;cursor:pointer;margin-left:1rem;",a.onclick=()=>o.remove(),o.innerHTML=n,o.appendChild(a),document.body.appendChild(o)}function initFormSubmission(){let e=document.getElementById("leadForm"),t=document.getElementById("submitBtn");e&&t&&(t.addEventListener("click",function(r){r.preventDefault(),t.disabled=!0,t.innerHTML='<i class="ri-loader-4-line ri-spin"></i>A Enviar...',setTimeout(()=>{if(validateForm()){let r=new FormData(e),o=Object.fromEntries(r.entries());o.whatsapp=(o.whatsapp_ddi||"")+" "+(o.whatsapp_num||""),de let e o.whatsapp_ddi,de let e o.whatsapp_num,o.deviceType=getDeviceType();try{let n=new UAParser;o.browserName=n.getBrowser().name||"N/A",o.osName=n.getOS().name||"N/A"}catch(a){}fetch("processa-lead.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.string if y(o)}).catch(e=>console.error("Falha ao contactar o servidor:",e)),trackConversion(o);let i=o.selo;if("pme-lider"===i||"pme-excelencia"===i||"candidato"===i){let l="obrigado-form.html",s=encodeURIComponent(o.nome||""),c=encodeURIComponent(o.email||""),d=encodeURIComponent(o.whatsapp||"");l+=`?name=${s}&email=${c}&phone=${d}`,window.location.href=l}else window.location.href="agradecimento-form.html"}else{t.disabled=!1,t.innerHTML='<i class="ri-calendar-check-line"></i>Agendar Consultoria Estrat\xe9gica Exclusiva';let p=e.querySelector('[style*="var(--danger-color)"]');p&&p.focus()}},150)}),e.addEventListener("submit",function(e){e.preventDefault(),t.click()}))}function initializePage(){adjustContentForFixedHeader(),initSmoothScrolling(),initHeaderScroll(),initScrollAnimations(),initFormSubmission(),initPhoneFlag()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializePage):initializePage(),window.addEventListener("resize",debounce(adjustContentForFixedHeader,100));